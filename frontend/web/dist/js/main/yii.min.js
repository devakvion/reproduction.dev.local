yii=function(t){function e(){t(document).ajaxComplete(function(t,e,n){var i=e.getResponseHeader("X-Redirect");i&&(window.location=i)})}function n(){t.ajaxPrefilter(function(t,e,n){!t.crossDomain&&a.getCsrfParam()&&n.setRequestHeader("X-CSRF-Token",a.getCsrfToken())}),a.refreshCsrfToken()}function i(){var e=function(e){var n=t(this),i=n.data("method"),r=n.data("confirm");return void 0===i&&void 0===r?!0:(void 0!==r?a.confirm(r,function(){a.handleAction(n)}):a.handleAction(n),e.stopImmediatePropagation(),!1)};t(document).on("click.yii",a.clickableSelector,e).on("change.yii",a.changeableSelector,e)}function r(){var e=location.protocol+"//"+location.host,n=t("script[src]").map(function(){return"/"===this.src.charAt(0)?e+this.src:this.src}).toArray();t.ajaxPrefilter("script",function(i,r,o){if("jsonp"!=i.dataType){var c="/"===i.url.charAt(0)?e+i.url:i.url;if(-1===t.inArray(c,n))n.push(c);else{var u=-1!==t.inArray(c,t.map(a.reloadableScripts,function(t){return"/"===t.charAt(0)?e+t:t}));u||o.abort()}}}),t(document).ajaxComplete(function(e,n,i){var r=[];t("link[rel=stylesheet]").each(function(){-1===t.inArray(this.href,a.reloadableScripts)&&(-1==t.inArray(this.href,r)?r.push(this.href):t(this).remove())})})}var a={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,n){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",n)},refreshCsrfToken:function(){var e=a.getCsrfToken();e&&t('form input[name="'+a.getCsrfParam()+'"]').val(e)},confirm:function(t,e,n){confirm(t)?!e||e():!n||n()},handleAction:function(e){var n=e.data("method"),i=e.closest("form"),r=e.attr("href"),o=e.data("params");if(void 0===n)return void(r&&"#"!=r?window.location=r:e.is(":submit")&&i.length&&i.trigger("submit"));var c=!i.length;if(c){r&&r.match(/(^\/|:\/\/)/)||(r=window.location.href),i=t('<form method="'+n+'"></form>'),i.attr("action",r);var u=e.attr("target");if(u&&i.attr("target",u),n.match(/(get|post)/i)||(i.append('<input name="_method" value="'+n+'" type="hidden">'),n="POST"),!n.match(/(get|head|options)/i)){var s=a.getCsrfParam();s&&i.append('<input name="'+s+'" value="'+a.getCsrfToken()+'" type="hidden">')}i.hide().appendTo("body")}var f=i.data("yiiActiveForm");f&&(f.submitObject=e),o&&t.isPlainObject(o)&&t.each(o,function(t,e){i.append('<input name="'+t+'" value="'+e+'" type="hidden">')});var m=i.attr("method");i.attr("method",n);var d=null;r&&"#"!=r&&(d=i.attr("action"),i.attr("action",r)),i.trigger("submit"),t.when(i.data("yiiSubmitFinalizePromise")).then(function(){null!=d&&i.attr("action",d),i.attr("method",m),o&&t.isPlainObject(o)&&t.each(o,function(e,n){t('input[name="'+e+'"]',i).remove()}),c&&i.remove()})},getQueryParams:function(t){var e=t.indexOf("?");if(0>e)return{};for(var n=t.substring(e+1).split("&"),i=0,r={};i<n.length;i++)n[i]=n[i].split("="),r[decodeURIComponent(n[i][0])]=decodeURIComponent(n[i][1]);return r},initModule:function(e){(void 0===e.isActive||e.isActive)&&(t.isFunction(e.init)&&e.init(),t.each(e,function(){t.isPlainObject(this)&&a.initModule(this)}))},init:function(){n(),e(),r(),i()}};return a}(jQuery),jQuery(document).ready(function(){yii.initModule(yii)});