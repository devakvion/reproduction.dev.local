yii=function(t){function e(){t(document).ajaxComplete(function(t,e,n){var i=e.getResponseHeader("X-Redirect");i&&(window.location=i)})}function n(){t.ajaxPrefilter(function(t,e,n){!t.crossDomain&&a.getCsrfParam()&&n.setRequestHeader("X-CSRF-Token",a.getCsrfToken())}),a.refreshCsrfToken()}function i(){var e=function(e){var n=t(this),i=n.data("method"),r=n.data("confirm");return void 0===i&&void 0===r?!0:(void 0!==r?a.confirm(r,function(){a.handleAction(n)}):a.handleAction(n),e.stopImmediatePropagation(),!1)};t(document).on("click.yii",a.clickableSelector,e).on("change.yii",a.changeableSelector,e)}function r(){var e=location.protocol+"//"+location.host,n=t("script[src]").map(function(){return"/"===this.src.charAt(0)?e+this.src:this.src}).toArray();t.ajaxPrefilter("script",function(i,r,o){if("jsonp"!=i.dataType){var c="/"===i.url.charAt(0)?e+i.url:i.url;if(-1===t.inArray(c,n))n.push(c);else{var u=-1!==t.inArray(c,t.map(a.reloadableScripts,function(t){return"/"===t.charAt(0)?e+t:t}));u||o.abort()}}}),t(document).ajaxComplete(function(e,n,i){var r=[];t("link[rel=stylesheet]").each(function(){-1===t.inArray(this.href,a.reloadableScripts)&&(-1==t.inArray(this.href,r)?r.push(this.href):t(this).remove())})})}var a={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,n){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",n)},refreshCsrfToken:function(){var e=a.getCsrfToken();e&&t('form input[name="'+a.getCsrfParam()+'"]').val(e)},confirm:function(t,e,n){confirm(t)?!e||e():!n||n()},handleAction:function(e){var n=e.data("method"),i=e.closest("form"),r=e.attr("href"),o=e.data("params");if(void 0===n)return void(r&&"#"!=r?window.location=r:e.is(":submit")&&i.length&&i.trigger("submit"));var c=!i.length;if(c){r&&r.match(/(^\/|:\/\/)/)||(r=window.location.href),i=t('<form method="'+n+'"></form>'),i.attr("action",r);var u=e.attr("target");if(u&&i.attr("target",u),n.match(/(get|post)/i)||(i.append('<input name="_method" value="'+n+'" type="hidden">'),n="POST"),!n.match(/(get|head|options)/i)){var s=a.getCsrfParam();s&&i.append('<input name="'+s+'" value="'+a.getCsrfToken()+'" type="hidden">')}i.hide().appendTo("body")}var f=i.data("yiiActiveForm");f&&(f.submitObject=e),o&&t.isPlainObject(o)&&t.each(o,function(t,e){i.append('<input name="'+t+'" value="'+e+'" type="hidden">')});var m=i.attr("method");i.attr("method",n);var d=null;r&&"#"!=r&&(d=i.attr("action"),i.attr("action",r)),i.trigger("submit"),t.when(i.data("yiiSubmitFinalizePromise")).then(function(){null!=d&&i.attr("action",d),i.attr("method",m),o&&t.isPlainObject(o)&&t.each(o,function(e,n){t('input[name="'+e+'"]',i).remove()}),c&&i.remove()})},getQueryParams:function(t){var e=t.indexOf("?");if(0>e)return{};for(var n=t.substring(e+1).split("&"),i=0,r={};i<n.length;i++)n[i]=n[i].split("="),r[decodeURIComponent(n[i][0])]=decodeURIComponent(n[i][1]);return r},initModule:function(e){(void 0===e.isActive||e.isActive)&&(t.isFunction(e.init)&&e.init(),t.each(e,function(){t.isPlainObject(this)&&a.initModule(this)}))},init:function(){n(),e(),r(),i()}};return a}(jQuery),jQuery(document).ready(function(){yii.initModule(yii)});
!function(t){t.fn.yiiActiveForm=function(i){return o[i]?o[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?(t.error("Method "+i+" does not exist on jQuery.yiiActiveForm"),!1):o.init.apply(this,arguments)};var i,e={beforeValidate:"beforeValidate",afterValidate:"afterValidate",beforeValidateAttribute:"beforeValidateAttribute",afterValidateAttribute:"afterValidateAttribute",beforeSubmit:"beforeSubmit",ajaxBeforeSend:"ajaxBeforeSend",ajaxComplete:"ajaxComplete"},a={encodeErrorSummary:!0,errorSummary:".error-summary",validateOnSubmit:!0,errorCssClass:"has-error",successCssClass:"has-success",validatingCssClass:"validating",ajaxParam:"ajax",ajaxDataType:"json",validationUrl:void 0,scrollToError:!0},r={id:void 0,name:void 0,container:void 0,input:void 0,error:".help-block",encodeError:!0,validateOnChange:!0,validateOnBlur:!0,validateOnType:!1,validationDelay:500,enableAjaxValidation:!1,validate:void 0,status:0,cancelled:!1,value:void 0},s=function(e){i=t.Deferred(),e.data("yiiSubmitFinalizePromise",i.promise())},n=function(t){i&&(i.resolve(),i=void 0,t.removeData("yiiSubmitFinalizePromise"))},o={init:function(i,e){return this.each(function(){var s=t(this);if(!s.data("yiiActiveForm")){var n=t.extend({},a,e||{});void 0===n.validationUrl&&(n.validationUrl=s.attr("action")),t.each(i,function(e){i[e]=t.extend({value:h(s,this)},r,this),u(s,i[e])}),s.data("yiiActiveForm",{settings:n,attributes:i,submitting:!1,validated:!1}),s.bind("reset.yiiActiveForm",o.resetForm),n.validateOnSubmit&&(s.on("mouseup.yiiActiveForm keyup.yiiActiveForm",":submit",function(){s.data("yiiActiveForm").submitObject=t(this)}),s.on("submit.yiiActiveForm",o.submitForm))}})},add:function(i){var e=t(this);i=t.extend({value:h(e,i)},r,i),e.data("yiiActiveForm").attributes.push(i),u(e,i)},remove:function(i){var e=t(this),a=e.data("yiiActiveForm").attributes,r=-1,s=void 0;return t.each(a,function(t){return a[t].id==i?(r=t,s=a[t],!1):void 0}),r>=0&&(a.splice(r,1),d(e,s)),s},validateAttribute:function(i){var e=o.find.call(this,i);void 0!=e&&l(t(this),e,!0)},find:function(i){var e=t(this).data("yiiActiveForm").attributes,a=void 0;return t.each(e,function(t){return e[t].id==i?(a=e[t],!1):void 0}),a},destroy:function(){return this.each(function(){t(this).unbind(".yiiActiveForm"),t(this).removeData("yiiActiveForm")})},data:function(){return this.data("yiiActiveForm")},validate:function(){var i=t(this),a=i.data("yiiActiveForm"),r=!1,s={},o=c(),u=a.submitting;if(u){var d=t.Event(e.beforeValidate);if(i.trigger(d,[s,o]),d.result===!1)return a.submitting=!1,void n(i)}t.each(a.attributes,function(){if(this.cancelled=!1,a.submitting||2===this.status||3===this.status){var n=s[this.id];void 0===n&&(n=[],s[this.id]=n);var u=t.Event(e.beforeValidateAttribute);i.trigger(u,[this,n,o]),u.result!==!1?(this.validate&&this.validate(this,h(i,this),n,o,i),this.enableAjaxValidation&&(r=!0)):this.cancelled=!0}}),t.when.apply(this,o).always(function(){for(var o in s)0===s[o].length&&delete s[o];if(r){var d=a.submitObject,l="&"+a.settings.ajaxParam+"="+i.attr("id");d&&d.length&&d.attr("name")&&(l+="&"+d.attr("name")+"="+d.attr("value")),t.ajax({url:a.settings.validationUrl,type:i.attr("method"),data:i.serialize()+l,dataType:a.settings.ajaxDataType,complete:function(t,a){i.trigger(e.ajaxComplete,[t,a])},beforeSend:function(t,a){i.trigger(e.ajaxBeforeSend,[t,a])},success:function(e){null!==e&&"object"==typeof e?(t.each(a.attributes,function(){(!this.enableAjaxValidation||this.cancelled)&&delete e[this.id]}),v(i,t.extend(s,e),u)):v(i,s,u)},error:function(){a.submitting=!1,n(i)}})}else a.submitting?setTimeout(function(){v(i,s,u)},200):v(i,s,u)})},submitForm:function(){var i=t(this),a=i.data("yiiActiveForm");if(a.validated){a.submitting=!1;var r=t.Event(e.beforeSubmit);return i.trigger(r),r.result===!1?(a.validated=!1,n(i),!1):!0}return s(i),void 0!==a.settings.timer&&clearTimeout(a.settings.timer),a.submitting=!0,o.validate.call(i),!1},resetForm:function(){var i=t(this),e=i.data("yiiActiveForm");setTimeout(function(){t.each(e.attributes,function(){this.value=h(i,this),this.status=0;var t=i.find(this.container);t.removeClass(e.settings.validatingCssClass+" "+e.settings.errorCssClass+" "+e.settings.successCssClass),t.find(this.error).html("")}),i.find(e.settings.errorSummary).hide().find("ul").html("")},1)},updateMessages:function(i,e){var a=t(this),r=a.data("yiiActiveForm");t.each(r.attributes,function(){f(a,this,i)}),e&&m(a,i)},updateAttribute:function(i,e){var a=o.find.call(this,i);if(void 0!=a){var r={};r[i]=e,f(t(this),a,r)}}},u=function(i,e){var a=g(i,e);e.validateOnChange&&a.on("change.yiiActiveForm",function(){l(i,e,!1)}),e.validateOnBlur&&a.on("blur.yiiActiveForm",function(){(0==e.status||1==e.status)&&l(i,e,!e.status)}),e.validateOnType&&a.on("keyup.yiiActiveForm",function(a){-1===t.inArray(a.which,[16,17,18,37,38,39,40])&&e.value!==h(i,e)&&l(i,e,!1,e.validationDelay)})},d=function(t,i){g(t,i).off(".yiiActiveForm")},l=function(i,e,a,r){var s=i.data("yiiActiveForm");a&&(e.status=2),t.each(s.attributes,function(){this.value!==h(i,this)&&(this.status=2,a=!0)}),a&&(void 0!==s.settings.timer&&clearTimeout(s.settings.timer),s.settings.timer=setTimeout(function(){s.submitting||i.is(":hidden")||(t.each(s.attributes,function(){2===this.status&&(this.status=3,i.find(this.container).addClass(s.settings.validatingCssClass))}),o.validate.call(i))},r?r:200))},c=function(){var i=[];return i.add=function(i){this.push(new t.Deferred(i))},i},v=function(i,a,r){var s=i.data("yiiActiveForm");if(r){var o=[];if(t.each(s.attributes,function(){!this.cancelled&&f(i,this,a)&&o.push(this)}),i.trigger(e.afterValidate,[a,o]),m(i,a),o.length){if(s.settings.scrollToError){var u=i.find(t.map(o,function(t){return t.input}).join(",")).first().closest(":visible").offset().top,d=t(window).scrollTop();(d>u||u>d+t(window).height())&&t(window).scrollTop(u)}s.submitting=!1}else{s.validated=!0;var l=s.submitObject||i.find(":submit:first");if(l.length&&"submit"==l.attr("type")&&l.attr("name")){var c=t('input[type="hidden"][name="'+l.attr("name")+'"]',i);c.length?c.attr("value",l.attr("value")):t("<input>").attr({type:"hidden",name:l.attr("name"),value:l.attr("value")}).appendTo(i)}i.submit()}}else t.each(s.attributes,function(){this.cancelled||2!==this.status&&3!==this.status||f(i,this,a)});n(i)},f=function(i,a,r){var s=i.data("yiiActiveForm"),n=g(i,a),o=!1;if(t.isArray(r[a.id])||(r[a.id]=[]),i.trigger(e.afterValidateAttribute,[a,r[a.id]]),a.status=1,n.length){o=r[a.id].length>0;var u=i.find(a.container),d=u.find(a.error);o?(a.encodeError?d.text(r[a.id][0]):d.html(r[a.id][0]),u.removeClass(s.settings.validatingCssClass+" "+s.settings.successCssClass).addClass(s.settings.errorCssClass)):(d.empty(),u.removeClass(s.settings.validatingCssClass+" "+s.settings.errorCssClass+" ").addClass(s.settings.successCssClass)),a.value=h(i,a)}return o},m=function(i,e){var a=i.data("yiiActiveForm"),r=i.find(a.settings.errorSummary),s=r.find("ul").empty();r.length&&e&&(t.each(a.attributes,function(){if(t.isArray(e[this.id])&&e[this.id].length){var i=t("<li/>");a.settings.encodeErrorSummary?i.text(e[this.id][0]):i.html(e[this.id][0]),s.append(i)}}),r.toggle(s.find("li").length>0))},h=function(t,i){var e=g(t,i),a=e.attr("type");if("checkbox"===a||"radio"===a){var r=e.filter(":checked");return r.length||(r=t.find('input[type=hidden][name="'+e.attr("name")+'"]')),r.val()}return e.val()},g=function(t,i){var e=t.find(i.input);return e.length&&"div"===e[0].tagName.toLowerCase()?e.find("input"):e}}(window.jQuery);